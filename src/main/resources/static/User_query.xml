<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
	
<mapper namespace="user" >
	
	<insert id ="insert" parameterType="user">
	insert into user(id, password, name, email, phone, address, allergy) 
				values(#{id:VARCHAR}
					  ,#{password:VARCHAR}
					  ,#{name:VARCHAR}
					  ,#{email:VARCHAR}
					  ,#{phone:VARCHAR}
					  ,#{address:VARCHAR}
					  ,#{allergy:VARCHAR})
					
	</insert>
	
	<delete id = "delete" parameterType="string">
		delete from user where id=#{id}
	</delete>
	
	<update id= "update" parameterType="user">
		update user set password= #{password:VARCHAR}
						, name=#{name:VARCHAR}
						, email=#{email:VARCHAR}
						, phone=#{phone:VARCHAR}
						, address=#{address:VARCHAR}
						, allergy=#{allergy:VARCHAR} 
		where id = #{id:VARCHAR}
	</update>
   
    <select id = "search" parameterType="string" resultType="user">
    	select * from user where id=#{id}
    </select>
    
    <select id = "searchFoodList" parameterType="string" resultType = "userfood">
    	select * from userfood where uid = #{uid}
    </select>
    
    <insert id = "insertFood" parameterType="userfood">
    	insert into userfood(no, fno, name, uid, count) 
    	values(#{no:INTEGER}
    	, #{fno:INTEGER}
    	, #{name:VARCHAR} 
    	,#{uid:VARCHAR}
    	, #{count:INTEGER}) 
    </insert>
    
    <select id = "searchFood" parameterType="userfood" resultType = "userfood">
    	select * from userfood where uid = #{uid:VARCHAR} and fno = #{fno:INTEGER} 
    </select>
	<delete id = "deleteFood" parameterType="string">
		delete from userfood where no=#{no}
	</delete>
</mapper>



























	












